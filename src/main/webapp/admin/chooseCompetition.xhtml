<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/main.xhtml"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">#{msg.manageCompetitionTitle}</ui:define>
    <ui:define name="content">
        <b:icon name="bullhorn" size="2x" />
        <h:form>
            <p:dataTable var="competition" value="#{chooseCompetitionBackingBean.loggedUserCompetitions}">
                <p:column headerText="#{msg.competitionName}">
                    <p:outputLabel value="#{competition.competitionName}"/>
                </p:column>
                <p:column headerText="#{msg.competitionCreator}">
                    <p:outputLabel>
                        ${competition.idOrganizer.idAccount.idPersonalInfo.firstName} 
                        ${competition.idOrganizer.idAccount.idPersonalInfo.lastName} 
                    </p:outputLabel>
                </p:column>
                <p:column headerText="#{msg.isGlobal}">
                    <p:selectBooleanCheckbox value="#{competition.global}" disabled="true"/>
                </p:column>
                <p:column headerText="#{msg.manageCompetition}">
                    <p:commandButton value="#{msg.manage}" icon="#{request.remoteUser eq competition.idOrganizer.idAccount.login ? ' ' : 'ui-icon-flag'}" iconPos="right"
                                     action="#{chooseCompetitionBackingBean.manageCompetition(competition)}"
                                     disabled="#{not empty competition.idWinner}" >
                    </p:commandButton>
            </p:column>
        </p:dataTable>
    </h:form>
</ui:define>
</ui:composition>